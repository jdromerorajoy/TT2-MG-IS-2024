# ADR-002: Identificaci√≥n de Logs sin UUID

## Estado
‚úÖ Aprobado

## Contexto
En el dise√±o inicial del sistema, se consider√≥ incluir un **UUID √∫nico por solicitud** en los logs para poder rastrear de manera precisa cada request a trav√©s de los diferentes microservicios. Sin embargo, tras el an√°lisis y las pruebas iniciales, se decidi√≥ **no incluir UUIDs en los logs** y en su lugar utilizar un esquema de identificaci√≥n basado en el **nombre del microservicio y los timestamps**.

## Decisi√≥n
Se decidi√≥ **no utilizar UUIDs** en los logs y en su lugar realizar la identificaci√≥n un√≠voca de cada evento de log a partir de:
1. **El mensaje del log.
2. **El endpoint o acci√≥n que gener√≥ el log**.
3**Un timestamp exacto de la operaci√≥n**.


Cada microservicio que genera logs **a√±ade su nombre como identificador en cada entrada de la base de datos de logs** en MongoDB.

## Justificaci√≥n
Las razones principales de esta decisi√≥n fueron:
1. **Simplicidad en la implementaci√≥n**: No es necesario modificar los middleware o las funciones de logging para generar y mantener UUIDs en cada request.
2. **Reducci√≥n de sobrecarga**: Evitar la generaci√≥n y propagaci√≥n de UUIDs reduce la complejidad del c√≥digo y la latencia en cada request.
3. **Trazabilidad suficiente**: Utilizando los **nombres de los microservicios y timestamps precisos**, es posible correlacionar eventos sin necesidad de UUIDs.
4. **Deuda t√©cnica asumida**: Se documenta esta decisi√≥n como una **deuda t√©cnica**, permitiendo que en el futuro, si se encuentra necesario, se implemente un sistema de correlaci√≥n de logs m√°s sofisticado.

## Consecuencias
- **Positivo**: Se mantiene una implementaci√≥n m√°s simple y liviana sin necesidad de propagar UUIDs en cada request.
- **Negativo**: Si en el futuro se requiere una trazabilidad m√°s precisa entre microservicios, se podr√≠a reconsiderar la introducci√≥n de un UUID compartido.
- **Mitigaci√≥n**: En caso de necesitar una trazabilidad mejorada, los logs ya cuentan con timestamps precisos y nombres de microservicio, lo que permite una correlaci√≥n razonable.

## Alternativas Consideradas
1. **Usar UUIDs para cada request**: Descartado por agregar complejidad innecesaria en la fase actual del proyecto.
2. **Usar un identificador num√©rico incremental**: No es viable en un entorno distribuido con m√∫ltiples instancias escalables.
3. **Utilizar un middleware avanzado para correlaci√≥n**: Se consider√≥, pero se determin√≥ que no es una prioridad inmediata.

---

üîç **Esta decisi√≥n ser√° revisada en futuras iteraciones del proyecto si se requiere una mejor correlaci√≥n entre logs.**